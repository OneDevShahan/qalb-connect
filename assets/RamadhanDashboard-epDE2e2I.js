import{j as e,r as l,C as p,L as A,R as q}from"./index-CfOWARvi.js";import{FaUndoAlt as b,FaBookOpen as L,FaPlus as j,FaTrash as O}from"./index-DFFrD16l.js";import{P as m}from"./index-BqHRrX7s.js";import{d as E}from"./AlQuranCloudAPIServices-PcxgEeAQ.js";import{L as G}from"./index-DdWXBPiv.js";import{A as P}from"./index-l7LhQqwl.js";import w from"./Toast-B34yhE2A.js";import{FaCircleStop as $}from"./index-DVs7I-fV.js";import{G as M}from"./iconBase-DjLeIGj8.js";import{g as F}from"./Utils-B8xnQMIN.js";import k from"./CountdownTimer-BhuM5UDg.js";import{f as v}from"./AlAdhaanServices-DO0sKTNN.js";import{d as J}from"./index-DFAxq7RV.js";import"./index-C88pvD_q.js";const S=({checklistItems:t,checklist:a,toggleItem:n,completion:o,resetChecklist:c})=>e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-2 text-center",children:"📋 Ramadhan Daily Checklist"}),e.jsx("div",{className:"w-full bg-gray-300 dark:bg-gray-700 rounded-full h-4 mb-3",children:e.jsx("div",{className:"h-4 rounded-full bg-green-500 transition-all",style:{width:`${o}%`}})}),e.jsxs("p",{className:"text-sm font-semibold mb-3 text-center",children:["✅ Completed: ",o,"%"]}),e.jsx("ul",{className:"text-left",children:t.map(({text:r,icon:g})=>e.jsxs("li",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("input",{type:"checkbox",checked:!!a[r],onChange:()=>n(r),className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:[g," ",r]})]},r))}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsxs("button",{onClick:c,className:"flex items-center gap-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg shadow-md transition-all",children:[e.jsx(b,{})," Reset Checklist"]})})]});S.propTypes={checklistItems:m.arrayOf(m.shape({text:m.string.isRequired})).isRequired,checklist:m.object.isRequired,toggleItem:m.func.isRequired,completion:m.number.isRequired,resetChecklist:m.func.isRequired};const z=()=>{const[t,a]=l.useState(1);return l.useEffect(()=>{const n=localStorage.getItem("dailyData");if(n)try{const o=JSON.parse(n),c=parseInt(o.data.data.date.hijri.day,10)||1;a(c)}catch(o){console.error("Error parsing Hijri date:",o),a(1)}},[]),t},H=()=>{const t=z(),[a,n]=l.useState({}),[o,c]=l.useState(0);l.useEffect(()=>{const d=localStorage.getItem(`ramadhanChecklistDay${t}`);let s={};d?(s=JSON.parse(d),p.forEach(({text:i})=>{i in s||(s[i]=!1)}),localStorage.setItem(`ramadhanChecklistDay${t}`,JSON.stringify(s))):(s=p.reduce((i,{text:h})=>({...i,[h]:!1}),{}),localStorage.setItem(`ramadhanChecklistDay${t}`,JSON.stringify(s))),n(s),r(s)},[t]),l.useEffect(()=>{Object.keys(a).length>0&&(localStorage.setItem(`ramadhanChecklistDay${t}`,JSON.stringify(a)),r(a))},[a,t]);const r=d=>{const s=Object.values(d).filter(Boolean).length,i=Math.round(s/p.length*100);c(i)},g=d=>{n(s=>({...s,[d]:!s[d]}))},x=()=>{const d=p.reduce((s,{text:i})=>({...s,[i]:!1}),{});n(d)};return e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg shadow text-center",children:[e.jsx(S,{checklistItems:p,checklist:a,toggleItem:g,completion:o,resetChecklist:x}),e.jsx("div",{className:"mt-4",children:e.jsx(A,{to:"/checklist-progress",className:"text-blue-600 dark:text-blue-400",children:"🌟 Level Up Your Ramadhan →"})})]})},B=()=>{const[t,a]=l.useState(null),[n,o]=l.useState(null),[c,r]=l.useState(!1),g=()=>{if(!t)return;const s=`Ayah ${t.number}: ${t.text}
Juz: ${t.juz}, Manzil: ${t.manzil}, Page: ${t.page}`;navigator.clipboard.writeText(s),o("Ayah details copied to clipboard!")},x=s=>{if(c)return;const i=new SpeechSynthesisUtterance(s);i.lang="ar-SA";const u=speechSynthesis.getVoices().find(y=>y.lang.startsWith("ar"));u&&(i.voice=u),i.onstart=()=>r(!0),i.onend=()=>r(!1),speechSynthesis.speak(i)},d=()=>{speechSynthesis.cancel(),r(!1)};return l.useEffect(()=>{E().then(a)},[]),t?e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg shadow-lg flex flex-col items-center text-center w-full max-w-2xl mx-auto",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-gray-800 dark:text-gray-200",children:[e.jsx(L,{className:"text-blue-500"})," Daily Ayah"]}),e.jsxs("div",{className:"mt-4 px-3 flex items-center justify-evenly w-full",children:[e.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[t.surah.name," (",t.surah.englishName,")"]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.surah.englishNameTranslation," - ",t.surah.revelationType]})]}),e.jsx("div",{className:"mt-3 bg-white dark:bg-gray-900 p-4 rounded-lg shadow-md w-full",children:e.jsx("p",{className:"text-lg text-right font-arabic text-gray-900 dark:text-gray-100",children:t.text})}),e.jsxs("div",{className:"px-4 mt-3 flex sm:flex-row items-center gap-3 sm:gap-5 text-sm text-gray-600 dark:text-gray-400 w-full justify-between",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx(G,{size:20,className:"cursor-pointer hover:text-yellow-300",title:"Copy Ayah",onClick:g}),e.jsx(P,{size:20,className:`cursor-pointer hover:text-green-500 ${c?"text-green-500":""}`,title:"Read Ayah Loud",onClick:()=>x(t.text)}),e.jsx($,{size:20,className:"cursor-pointer hover:text-red-500",title:"Stop Reading",onClick:d})]}),e.jsxs("div",{className:"text-center sm:text-right",children:["Surah ",t.surah.number,", Ayah ",t.numberInSurah," | Juz ",t.juz," ","| Page ",t.page]})]}),n&&e.jsx(w,{message:n,type:"success",onClose:()=>o(null)})]}):e.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg shadow flex items-center justify-center min-h-[150px]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-300 animate-pulse",children:"Loading Ayah..."})})};function _(t){return M({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M19 13.586V10c0-3.217-2.185-5.927-5.145-6.742C13.562 2.52 12.846 2 12 2s-1.562.52-1.855 1.258C7.185 4.074 5 6.783 5 10v3.586l-1.707 1.707A.996.996 0 0 0 3 16v2a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1v-2a.996.996 0 0 0-.293-.707L19 13.586zM19 17H5v-.586l1.707-1.707A.996.996 0 0 0 7 14v-4c0-2.757 2.243-5 5-5s5 2.243 5 5v4c0 .266.105.52.293.707L19 16.414V17zm-7 5a2.98 2.98 0 0 0 2.818-2H9.182A2.98 2.98 0 0 0 12 22z"},child:[]}]})(t)}const N=({time:t})=>{const[a,n]=l.useState(!1),[o,c]=l.useState({message:"",type:"success"}),r=l.useRef(null);l.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission(),localStorage.getItem("reminderTime")===t&&n(!0)},[t]),l.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]);const g=()=>{if(a)clearTimeout(r.current),localStorage.removeItem("reminderTime"),n(!1),c({message:"🔕 Reminder canceled!",type:"error"});else{if(!t){c({message:"⏳ No prayer time found!",type:"error"});return}const[x,d]=t.split(":").map(Number),s=new Date,i=new Date;i.setHours(x,d,0,0),i<=s&&i.setDate(i.getDate()+1);const h=i.getTime()-s.getTime();r.current=setTimeout(()=>{new Audio("/qalb-connect/ashaduallaha.mp3").play().catch(y=>console.log("Audio play error:",y)),Notification.permission==="granted"?new Notification("⏰ Prayer Time Reminder",{body:`It's time for ${t} prayer!`}):c({message:`🔔 Prayer Reminder: It's time for ${t} prayer!`,type:"success"}),navigator.vibrate&&navigator.vibrate([300,100,300]),n(!1),localStorage.removeItem("reminderTime")},h),localStorage.setItem("reminderTime",t),n(!0),c({message:`⏰ Reminder set for ${i.toLocaleTimeString()}`,type:"success"})}};return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:g,className:"absolute top-1 right-1 p-1 rounded-full transition",style:{backgroundColor:a?"yellow":"transparent"},children:e.jsx(_,{className:`w-5 h-5 ${a?"text-yellow-600":"text-gray-700 dark:text-gray-300"}`})}),o.message&&e.jsx(w,{message:o.message,type:o.type,onClose:()=>c({message:"",type:"success"})})]})};N.propTypes={time:m.string.isRequired};const T=({data:t})=>{const[a,n]=l.useState(()=>({timings:null,hijriDate:null})),[o,c]=l.useState(!0),[r,g]=l.useState(F);l.useEffect(()=>{t!=null&&t.data&&(n({timings:t.data.timings,hijriDate:t.data.date.hijri}),c(!1))},[t]);const x=l.useMemo(()=>a.timings?Object.entries({Fajr:a.timings.Fajr,Sunrise:a.timings.Sunrise,Dhuhr:a.timings.Dhuhr,Asr:a.timings.Asr,Sunset:a.timings.Sunset,Maghrib:a.timings.Maghrib,Isha:a.timings.Isha,Imsak:a.timings.Imsak,Midnight:a.timings.Midnight,"First Third":a.timings.Firstthird,"Last Third":a.timings.Lastthird}):[],[a.timings]);return o?e.jsx("div",{className:"flex justify-center items-center min-h-[200px]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-300 animate-pulse",children:"Loading prayer times..."})}):a.timings?e.jsxs("div",{className:"p-6 bg-gray-100 dark:bg-gray-800 rounded-lg shadow-lg max-w-xl",children:[e.jsx("h2",{className:"text-xl font-semibold text-center mb-4 text-gray-800 dark:text-white",children:"🕌 Prayer Timings"}),a.hijriDate&&e.jsxs("p",{className:"text-center text-gray-700 dark:text-gray-300 mb-4",children:["📅 Hijri Date: ",a.hijriDate.day," ",a.hijriDate.month.en," ",a.hijriDate.year]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-gray-700 dark:text-gray-300",children:[x.map(([d,s])=>e.jsx(V,{label:d,time:s},d)),e.jsxs("div",{className:"flex flex-col items-center p-3 bg-gray-200 dark:bg-gray-900 rounded-lg shadow-sm relative",children:[e.jsx("span",{className:"font-semibold text-sm",children:"Test Time"}),e.jsx("input",{type:"time",value:r,onChange:d=>g(d.target.value),className:"m-2 text-lg font-medium text-gray-900 dark:text-gray-100 bg-transparent border border-green-400 rounded focus:outline-none"}),e.jsx(N,{time:r})]})]})]}):e.jsx("div",{className:"text-center text-red-500 dark:text-red-400",children:"Failed to fetch prayer times."})},C=({label:t,time:a})=>e.jsxs("div",{className:"flex flex-col items-center p-3 bg-white dark:bg-gray-900 rounded-lg shadow-sm relative",children:[e.jsx("span",{className:"font-semibold text-sm",children:t}),e.jsx("span",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:a}),e.jsx(N,{time:a})]}),V=q.memo(C);C.propTypes={label:m.string.isRequired,time:m.string.isRequired};T.propTypes={data:m.shape({data:m.shape({timings:m.object.isRequired,date:m.shape({hijri:m.shape({day:m.string.isRequired,month:m.shape({en:m.string.isRequired}).isRequired,year:m.string.isRequired}).isRequired}).isRequired})})};const Y=()=>{const[t,a]=l.useState(null),[n,o]=l.useState(!0);return l.useEffect(()=>{navigator.geolocation.getCurrentPosition(async c=>{const{latitude:r,longitude:g}=c.coords,x=await v(r,g);x&&a({suhoor:x.data.timings.Fajr,iftar:x.data.timings.Maghrib}),o(!1)},c=>{console.error("Geolocation error:",c),o(!1)})},[]),e.jsxs("div",{className:"p-6 bg-gray-100 dark:bg-gray-800 rounded-lg shadow-md text-center",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"⏳ Suhoor & Iftar Timings"}),n?e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Loading..."}):t?e.jsxs("div",{className:"mt-3 space-y-6",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-900 rounded-md shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"🌙 Suhoor (Fajr)"}),e.jsx(k,{targetTime:t.suhoor,label:""}),e.jsxs("div",{className:"mt-2 text-sm italic text-gray-600 dark:text-gray-300",children:[e.jsx("p",{children:'" وَبِصَوْمِ غَدٍ نَّوَيْتُ مِنْ شَهْرِ رَمَضَانَ "'}),e.jsx("p",{children:'"I intend to fast tomorrow for Ramadan."'})]})]}),e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-900 rounded-md shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white",children:"🌅 Iftar (Maghrib)"}),e.jsx(k,{targetTime:t.iftar,label:""}),e.jsxs("div",{className:"mt-2 text-sm italic text-gray-600 dark:text-gray-300",children:[e.jsx("p",{children:'"اللهم لك صمت وعلى رزقك أفطرت " '}),e.jsx("p",{children:'"O Allah! I have fasted for You, and I break my fast with Your sustenance."'})]})]})]}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Could not fetch prayer times."})]})},U=()=>{const[t,a]=l.useState(null),[n,o]=l.useState(!0);l.useEffect(()=>{var h;try{const u=localStorage.getItem("dailyData");if(u){const y=JSON.parse(u);(h=y==null?void 0:y.data)!=null&&h.data&&a(y.data.data)}}catch(u){console.error("Error parsing localStorage data:",u)}finally{o(!1)}},[]);const c=l.useMemo(()=>{if(!t)return!1;const{hijri:h}=t.date,u=["21","23","25","27","29"];return h.month.en==="Ramadan"&&u.includes(h.day.toString())},[t]);if(n)return e.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg shadow flex items-center justify-center",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-300 animate-pulse",children:"Loading Hijri Date..."})});if(!t)return e.jsx("p",{className:"text-red-500 text-center font-semibold",children:"⚠️ Failed to load Hijri Date"});const{hijri:r,gregorian:g}=t.date,{weekday:x,month:d,year:s,holidays:i}=r;return e.jsxs("div",{className:`p-6 rounded-lg shadow-lg text-center transition ${c?"bg-yellow-300 text-black":"bg-gray-100 dark:bg-gray-800"}`,children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"📆 Islamic Date"}),e.jsxs("div",{className:"mt-2 text-lg font-semibold text-gray-800 dark:text-gray-200",children:[x.en,", ",r.day," ",d.en," ",s," AH"]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["(",r.day,"-",r.month.number,"-",r.year," -"," ",r.designation.expanded,")"]}),e.jsxs("div",{className:"mt-2 text-lg font-semibold text-gray-800 dark:text-gray-200",children:[g.weekday.en,", ",g.day," ",g.month.en," ",g.year," AD"]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["(",g.date," - ",g.designation.expanded,")"]}),i.length>0&&e.jsxs("div",{className:"mt-3 p-3 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-lg",children:[e.jsx("h3",{className:"font-semibold",children:"📜 Islamic Holiday"}),e.jsx("ul",{className:"list-disc list-inside text-sm",children:i.map((h,u)=>e.jsx("li",{children:h},u))})]}),c&&e.jsx("p",{className:"mt-3 text-red-600 font-bold text-lg",children:"✨ Laylatul Qadr Tonight! ✨"})]})},W=()=>{const[t,a]=l.useState(()=>JSON.parse(localStorage.getItem("ramadhanGoals"))||[]),[n,o]=l.useState("");l.useEffect(()=>{localStorage.setItem("ramadhanGoals",JSON.stringify(t))},[t]);const c=l.useCallback(()=>{n.trim()&&(a(d=>{const s=[...d,{text:n,completed:!1}];return localStorage.setItem("ramadhanGoals",JSON.stringify(s)),s}),o(""))},[n]),r=l.useCallback(d=>{a(s=>{const i=s.map((h,u)=>u===d?{...h,completed:!h.completed}:h);return localStorage.setItem("ramadhanGoals",JSON.stringify(i)),i})},[]),g=l.useCallback(d=>{a(s=>{const i=s.filter((h,u)=>u!==d);return localStorage.setItem("ramadhanGoals",JSON.stringify(i)),i})},[]),x=l.useMemo(()=>t.map((d,s)=>e.jsxs("li",{className:`flex justify-between items-center p-3 border rounded-lg shadow-sm transition-all ${d.completed?"bg-green-200 dark:bg-green-700":"bg-gray-50 dark:bg-gray-900"}`,children:[e.jsx("span",{className:`cursor-pointer flex-1 ${d.completed?"line-through text-gray-500 dark:text-gray-300":"text-gray-800 dark:text-white"}`,onClick:()=>r(s),children:d.text}),e.jsx("button",{onClick:()=>g(s),className:"text-red-500 hover:text-red-600 transition-all",children:"❌"})]},d.text)),[t,r,g]);return e.jsxs("div",{className:"p-6 max-w-lg w-full mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-xl font-bold text-center text-gray-800 dark:text-white",children:"🎯 Ramadhan Goals"}),e.jsxs("div",{className:"flex flex-wrap sm:flex-nowrap gap-2 mt-4",children:[e.jsx("input",{type:"text",value:n,onChange:d=>o(d.target.value),placeholder:" Add a goal...",className:"flex-1 w-full py-2 border rounded-lg dark:bg-gray-700 dark:text-white focus:ring-2 focus:ring-green-500"}),e.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg shadow-md hover:bg-green-600 transition-all",children:[e.jsx(j,{})," Add"]})]}),e.jsx("ul",{className:"mt-5 space-y-3",children:x}),t.length===0&&e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 mt-3",children:"No goals added yet. Start by adding one above!"})]})},R=({newTasbeeh:t,setNewTasbeeh:a,addTasbeeh:n})=>e.jsxs("div",{className:"flex items-center gap-2 w-full max-w-lg mb-4",children:[e.jsx("input",{type:"text",placeholder:" Add new Tasbeeh...",value:t,onChange:o=>a(o.target.value),className:"flex-1 py-2 border rounded-lg dark:bg-gray-900 dark:text-white focus:ring-2 focus:ring-green-500"}),e.jsxs("button",{onClick:n,className:"flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg shadow-md transition-all",children:[e.jsx(j,{})," Add"]})]});R.propTypes={newTasbeeh:m.string.isRequired,setNewTasbeeh:m.func.isRequired,addTasbeeh:m.func.isRequired};const D=({tasbeeh:t,count:a,increment:n,resetCount:o,deleteTasbeeh:c,isDefault:r})=>e.jsxs("div",{className:"flex flex-col items-center bg-white dark:bg-gray-900 p-4 rounded-lg shadow-md min-w-[180px] transition-transform hover:scale-105",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:t}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:a}),e.jsxs("div",{className:"flex flex-nowrap justify-center gap-2 mt-2 w-full",children:[e.jsxs("button",{onClick:n,className:"flex items-center gap-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg shadow-md transition-all",children:[e.jsx(j,{})," ",e.jsx("span",{className:"font-bold text-lg",children:"1"})]}),e.jsxs("button",{onClick:o,className:"flex items-center gap-1 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg shadow-md transition-all",children:[e.jsx(b,{})," Reset"]})]}),!r&&e.jsxs("button",{onClick:c,className:"mt-2 flex items-center gap-1 bg-gray-500 hover:bg-gray-600 text-white px-3 py-2 rounded-lg shadow-md transition-all",children:[e.jsx(O,{})," Delete"]})]});D.propTypes={tasbeeh:m.string.isRequired,count:m.number.isRequired,increment:m.func.isRequired,resetCount:m.func.isRequired,deleteTasbeeh:m.func.isRequired,isDefault:m.bool.isRequired};const I=({tasbeehs:t,increment:a,resetCount:n,deleteTasbeeh:o,defaultTasbeehs:c})=>e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 w-full",children:Object.entries(t).map(([r,g])=>e.jsx(D,{tasbeeh:r,count:g,increment:()=>a(r),resetCount:()=>n(r),deleteTasbeeh:()=>o(r),isDefault:c.includes(r)},r))});I.propTypes={tasbeehs:m.object.isRequired,increment:m.func.isRequired,resetCount:m.func.isRequired,deleteTasbeeh:m.func.isRequired,defaultTasbeehs:m.array.isRequired};const f=["لَا إِلَٰهَ إِلَّا ٱللَّٰهُ مُحَمَّدٌ رَّسُولُ ٱللَّٰهِ","أَشْهَدُ أَنْ لَا إِلَٰهَ إِلَّا ٱللَّٰهُ وَحْدَهُ لَا شَرِيكَ لَهُ وأَشْهَدُ أَنَّ مُحَمَّدًا عَبْدُهُ وَرَسُولُهُ","سُبْحَانَ ٱللَّٰهِ وَٱلْحَمْدُ لِلَّٰهِ وَلَا إِلَٰهَ إِلَّا ٱللَّٰهُ وَٱللَّٰهُ أَكْبَرُ وَلَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِٱللَّٰهِ ٱلْعَلِيِّ ٱلْعَظِيمِ","لَا إِلَٰهَ إِلَّا ٱللَّٰهُ وَحْدَهُ لَا شَرِيكَ لَهُ، لَهُ ٱلْمُلْكُ وَلَهُ ٱلْحَمْدُ، يُحْيِي وَيُمِيتُ وَهُوَ حَيٌّ لَا يَمُوتُ أَبَدًا أَبَدًا، ذُو ٱلْجَلَالِ وَٱلْإِكْرَامِ بِيَدِهِ ٱلْخَيْرُ وَهُوَ عَلَىٰ كُلِّ شَيْءٍ قَدِيرٌ","سُبْحَانَ ٱللَّٰهِ وَٱلْحَمْدُ لِلَّٰهِ وَلَا إِلَٰهَ إِلَّا ٱللَّٰهُ وَٱللَّٰهُ أَكْبَرُ وَلَا حَوْلَ وَلَا قُوَّةَ إِلَّا بِٱللَّٰهِ ٱلْعَلِيِّ ٱلْعَظِيمِ","SubhanAllah Wa Bihamdihi, SubhanAllahil Azim"],Q=(t,a)=>JSON.parse(localStorage.getItem(t))||a,K=(t,a)=>localStorage.setItem(t,JSON.stringify(a)),X=()=>{const[t,a]=l.useState(Q("tasbeehs",Object.fromEntries(f.map(s=>[s,0])))),[n,o]=l.useState("");l.useEffect(()=>{K("tasbeehs",t)},[t]);const c=s=>a(i=>({...i,[s]:i[s]+1})),r=s=>a(i=>({...i,[s]:0})),g=()=>{const s=Object.keys(t).reduce((i,h)=>({...i,[h]:0}),{});a(s)},x=()=>{n.trim()&&!t[n]&&(a(s=>({...s,[n]:0})),o(""))},d=s=>{f.includes(s)||a(i=>{const h={...i};return delete h[s],h})};return e.jsxs("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-lg shadow flex flex-col items-center justify-center min-h-[150px]",children:[e.jsxs("h2",{className:"text-2xl mb-4 font-semibold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(J,{className:"text-green-500"})," Tasbeeh"]}),e.jsx(R,{newTasbeeh:n,setNewTasbeeh:o,addTasbeeh:x}),e.jsx(I,{tasbeehs:t,increment:c,resetCount:r,deleteTasbeeh:d,defaultTasbeehs:f}),e.jsxs("button",{onClick:g,className:"mt-4 bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg shadow-md transition-all flex items-center gap-2",children:[e.jsx(b,{})," ",e.jsx("span",{children:"Reset All"})]})]})};function he(){const[t,a]=l.useState(null),[n,o]=l.useState(null),[c,r]=l.useState(!0);return l.useEffect(()=>{if(!navigator.geolocation){o("Your browser does not support location services."),r(!1);return}navigator.geolocation.getCurrentPosition(async g=>{const{latitude:x,longitude:d}=g.coords;try{const s=await v(x,d);a(s),localStorage.setItem("prayerData",JSON.stringify(s))}catch(s){console.error("Failed to fetch prayer times:",s);const i=localStorage.getItem("prayerData");i?a(JSON.parse(i)):o("Could not fetch prayer times. Try again later.")}finally{r(!1)}},g=>{console.warn("Geolocation error:",g.message),o("Location access denied. Please enable location services in your browser settings."),r(!1)})},[]),e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 p-6 space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-center dark:text-white",children:[e.jsx("div",{className:"flex justify-center items-center font-bold text-xl md:text-2xl space-x-2",children:"🌙 Ramadhan Dashboard"}),e.jsx("div",{className:"flex justify-center text-center",children:e.jsx("hr",{className:"text-center w-3/5 sm:w-1/2 md:w-1/4 mt-3 mb-8"})})]}),e.jsx("p",{className:"text-lg text-center text-gray-600 dark:text-gray-300 mb-10",children:"Ramadhan is the ninth month of the Islamic calendar, observed by Muslims worldwide as a month of fasting, prayer, reflection, and community."}),c?e.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300",children:"Loading data..."}):n?e.jsx("p",{className:"text-center text-red-500",children:n}):e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mx-auto p-4",children:[e.jsx(U,{}),e.jsx(B,{}),t&&e.jsx(T,{data:t}),e.jsx(Y,{}),e.jsx(H,{}),e.jsx(W,{}),e.jsx(X,{})]})]})}export{he as default};
